---
layout: layouts/default.njk
date: Last Modified
permalink: /program/
---

<main class="program-main">
  <h1 class="program-title">Concert Program</h1>
  <div class="program-meta">
    {{concertTime}} &bull; {{ concertDate }}<br>
    {{ concertLocation }}
  </div>

  <!-- Tabbed Section Macro -->
  {% macro tabbedSection(title, director, songs, performers, sectionId) %}
    <section class="ensemble-section">
      <h2 class="ensemble-title">{{ title }}</h2>
      <div class="ensemble-director">Directed by {{ director }}</div>
      <div id="tabs-{{ sectionId }}" class="ensemble-tabs">
        <div class="tablist" role="tablist">
          <button type="button" class="tab-btn" onclick="showTab('{{ sectionId }}', 'program')" id="tab-{{ sectionId }}-program" aria-selected="true" role="tab">Program</button>
          <button type="button" class="tab-btn" onclick="showTab('{{ sectionId }}', 'performers')" id="tab-{{ sectionId }}-performers" aria-selected="false" role="tab">Performers</button>
        </div>
        <div id="tab-content-{{ sectionId }}-program" role="tabpanel">
          <ul class="program-list">
            {% for song in songs %}
              <li class="program-item">
                <div class="song-title">{{ song.title }}</div>
                <div class="song-details">
                  {{ song.composer }}
                  {% if song.arranger %}
                    <span class="song-arranger">&nbsp;&mdash; Arr. {{ song.arranger }}</span>
                  {% endif %}
                </div>
                {% if song.performerOverrides %}
                  <button type="button" class="song-performers-btn" onclick="toggleSongPerformers('{{ sectionId }}-song-{{ loop.index0 }}')">View Performers</button>
                  <div id="song-performers-{{ sectionId }}-song-{{ loop.index0 }}" class="song-performers" style="display: none;">
                    <div class="performers-grid">
                      {% set songPerformers = performers | mergePerformers(song.performerOverrides) %}
                      {% for instrument, players in songPerformers %}
                        <div>
                          <div class="instrument-title">{{ instrument | title }}</div>
                          <div class="performer-list">
                            {% for player in players %}
                              <div class="performer-name">
                                {{ player.name }}{% if player.gradYear %} <span class="performer-year">({{ player.gradYear }})</span>{% endif %}
                              </div>
                            {% endfor %}
                          </div>
                        </div>
                      {% endfor %}
                    </div>
                  </div>
                {% endif %}
              </li>
            {% else %}
              <li class="program-empty">Program to be announced</li>
            {% endfor %}
          </ul>
        </div>
        <div id="tab-content-{{ sectionId }}-performers" role="tabpanel" style="display: none;">
          <div class="performers-grid">
            {% for instrument, players in performers %}
              <div>
                <div class="instrument-title">{{ instrument | title }}</div>
                <div class="performer-list">
                  {% for player in players %}
                    <div class="performer-name">
                      {{ player.name }}{% if player.gradYear %} <span class="performer-year">({{ player.gradYear }})</span>{% endif %}
                    </div>
                  {% endfor %}
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>
  {% endmacro %}

  {{ tabbedSection(symphonic.title, symphonic.director, symphonic.songs, symphonic.performers, 'symphonic') }}

  <!-- Intermission Divider -->
  <div class="intermission-divider">
    <span class="intermission-label">Intermission</span>
  </div>

  <hr class="section-divider">

  {{ tabbedSection(jazz1.title, jazz1.director, jazz1.songs, jazz1.performers, 'jazz1') }}

  {{ tabbedSection(jazz2.title, jazz2.director, jazz2.songs, jazz2.performers, 'jazz2') }}

  <section>
    <h2 class="ensemble-title">{{ jazz3.title }}</h2>
    <ul class="program-list">
      {% for song in jazz3.songs %}
        <li class="program-item">
          <div class="song-title">{{ song.title }}</div>
          <div class="song-details">
            {{ song.composer }}
            {% if song.arranger %}
              <span class="song-arranger">&nbsp;&mdash; Arr. {{ song.arranger }}</span>
            {% endif %}
          </div>
        </li>
      {% else %}
        <li class="program-empty">Program to be announced</li>
      {% endfor %}
    </ul>
  </section>
</main>

<style>
  .program-main {
    max-width: 1024px;
    margin: 2rem auto;
    background: #fff;
    border-radius: 1rem;
    box-shadow: 0 2px 16px rgba(0,0,0,0.08);
    padding: 2.5rem 2rem;
  }
  .program-title {
    font-size: 2.5rem;
    font-weight: bold;
    text-align: center;
    margin-bottom: 0.5rem;
  }
  .program-meta {
    text-align: center;
    font-size: 1.1rem;
    margin-bottom: 2rem;
  }
  .ensemble-section {
    margin-bottom: 2.5rem;
  }
  .ensemble-title {
    font-size: 1.7rem;
    font-weight: bold;
    text-align: center;
    margin-bottom: 0.5rem;
  }
  .ensemble-director {
    text-align: center;
    font-style: italic;
    margin-bottom: 1.5rem;
  }
  .ensemble-tabs {
    max-width: 600px;
    margin: 0 auto;
  }
  .tablist {
    display: flex;
    justify-content: center;
    margin-bottom: 1.5rem;
  }
  .tab-btn {
    padding: 0.5rem 1.5rem;
    border: none;
    font-weight: bold;
    cursor: pointer;
    background: #eee;
    color: #333;
    border-radius: 1rem 0 0 1rem;
    transition: background 0.2s, color 0.2s;
  }
  .tab-btn[aria-selected="true"] {
    background: #bfa76a;
    color: #fff;
  }
  .tab-btn:last-child {
    border-radius: 0 1rem 1rem 0;
  }
  .program-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .program-item {
    margin-bottom: 1.5rem;
  }
  .song-title {
    font-size: 1.15rem;
    font-weight: 500;
    text-align: center;
  }
  .song-details {
    font-size: 1rem;
    text-align: center;
    color: #555;
  }
  .song-arranger {
    font-style: italic;
  }
  .program-empty {
    text-align: center;
    color: #aaa;
    font-style: italic;
  }
  .intermission-divider {
    margin: 2.5rem 0;
    text-align: center;
  }
  .intermission-label {
    display: inline-block;
    padding: 0.75rem 2.5rem;
    border-radius: 2rem;
    background: #bfa76a;
    color: #7c2d2d;
    font-weight: bold;
    font-size: 1.15rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    letter-spacing: 0.05em;
  }
  .section-divider {
    margin: 2.5rem 0;
    border: none;
    border-top: 2px solid #bfa76a;
  }
  .performers-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  @media (min-width: 600px) {
    .performers-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
  .instrument-title {
    font-weight: bold;
    margin-bottom: 0.25rem;
  }
  .performer-list {
    font-size: 0.98rem;
  }
  .performer-name {
    margin-bottom: 0.2rem;
  }
  .performer-year {
    color: #888;
  }
  .song-performers-btn {
    margin-top: 0.5rem;
    padding: 0.4rem 1rem;
    background: #bfa76a;
    color: #fff;
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: background 0.2s;
  }
  .song-performers-btn:hover {
    background: #a08f5a;
  }
  .song-performers {
    margin-top: 1rem;
    padding: 1rem;
    background: #f9f9f9;
    border-radius: 0.5rem;
    border: 1px solid #e0e0e0;
  }
</style>

<script>
function showTab(sectionId, tab) {
  const programBtn = document.getElementById(`tab-${sectionId}-program`);
  const performersBtn = document.getElementById(`tab-${sectionId}-performers`);
  const programContent = document.getElementById(`tab-content-${sectionId}-program`);
  const performersContent = document.getElementById(`tab-content-${sectionId}-performers`);
  if (tab === 'program') {
    programBtn.setAttribute('aria-selected', 'true');
    performersBtn.setAttribute('aria-selected', 'false');
    programContent.style.display = '';
    performersContent.style.display = 'none';
  } else {
    performersBtn.setAttribute('aria-selected', 'true');
    programBtn.setAttribute('aria-selected', 'false');
    performersContent.style.display = '';
    programContent.style.display = 'none';
  }
}

function toggleSongPerformers(songId) {
  const performersDiv = document.getElementById(`song-performers-${songId}`);
  const btn = event.target;
  if (performersDiv.style.display === 'none') {
    performersDiv.style.display = 'block';
    btn.textContent = 'Hide Performers';
  } else {
    performersDiv.style.display = 'none';
    btn.textContent = 'View Performers';
  }
}
</script>

